import{_ as b,v as k,i as L,r as N,c as y,o as I,a as C,J as D,g as u,d as r,F as h,f as _,n as i,e as v,h as T,y as V,A as w,G as B}from"./index-55dc959b.js";const F={"part-input":"_part-input_1yb79_1","part-input__dot":"_part-input__dot_1yb79_5","part-input__block":"_part-input__block_1yb79_16","part-input__placeholder-dot":"_part-input__placeholder-dot_1yb79_24","part-input__placeholder-dot-item":"_part-input__placeholder-dot-item_1yb79_34","part-input__placeholder-dot-item--hide":"_part-input__placeholder-dot-item--hide_1yb79_53","part-input__input":"_part-input__input_1yb79_56","part-input--disabled":"_part-input--disabled_1yb79_127"},g=()=>({wrap:"",block:"",input:"",dot:"",placeholderDot:"",placeholderDotItem:"",placeholderDotItemHide:""}),S={inheritAttrs:!1,props:{classNames:{Type:Object,default(){return g()}},type:{Type:String,default:"text"},length:{Type:Number,default:1},beforeDot:{Type:Number,default:0},afterDot:{Type:Number,default:0},defaultValue:{Type:String,default:null},modelValue:{Type:String},disabled:{Type:Boolean,default:!1},placeholderDot:{Type:Boolean,default:!1}},setup(l,{emit:s}){const n=k("formListItem",{}),e=L({valueLength:0,value:null}),d=N(null),m=y(()=>{const{classNames:a}=l;return Object.assign(g(),a)}),t=y(()=>{const{modelValue:a,defaultValue:o}=l,{value:p}=e;return typeof a=="string"?a:typeof p=="string"?p:o}),c=()=>{const{length:a}=l,o=d.value.value;if(o.length>a){d.value.value=o.substr(0,a);const p=new Event("input");d.value.dispatchEvent(p)}},f=a=>{const o=a.target.value;e.value=o,e.valueLength=o.length,s("update:modelValue",o)};return I(()=>{typeof t.value=="string"&&(e.value=t.value,e.valueLength=t.value.length),c()}),C(()=>{if(d.value){const a=d.value.value;e.value=a,e.valueLength=a.length}c()}),D(()=>l.modelValue,a=>{e.value=a,e.valueLength=a.length,c(),B(()=>{n&&n.checkInputed&&n.checkInputed()})}),{state:e,input:d,customClassNames:m,value:t,checkLength:c,onInput:f}}},j=["type","maxlength","value","disabled"];function E(l,s,n,e,d,m){return u(),r("div",{class:i([l.$style["part-input"],{[l.$style["part-input--disabled"]]:n.disabled},e.customClassNames.wrap])},[(u(!0),r(h,null,_(n.beforeDot,t=>(u(),r("div",{key:t,class:i([l.$style["part-input__dot"],e.customClassNames.dot])},null,2))),128)),v("div",{class:i([l.$style["part-input__block"],e.customClassNames.block]),style:w(`width: ${22*n.length}px;`)},[n.placeholderDot?(u(),r("div",{key:0,class:i([l.$style["part-input__placeholder-dot"],e.customClassNames.placeholderDot])},[(u(!0),r(h,null,_(n.length,t=>(u(),r("div",{key:t,class:i([l.$style["part-input__placeholder-dot-item"],e.customClassNames.placeholderDotItem,{[l.$style["part-input__placeholder-dot-item--hide"]]:t<=e.state.valueLength,[e.customClassNames.placeholderDotItemHide]:t<=e.state.valueLength}])},null,2))),128))],2)):T("",!0),v("input",V({ref:"input"},l.$attrs,{type:n.type,class:[l.$style["part-input__input"],e.customClassNames.input],maxlength:n.length,value:e.value,disabled:n.disabled,onInput:s[0]||(s[0]=(...t)=>e.onInput&&e.onInput(...t)),onFocusin:s[1]||(s[1]=(...t)=>e.checkLength&&e.checkLength(...t)),onFocusout:s[2]||(s[2]=(...t)=>e.checkLength&&e.checkLength(...t)),onKeydown:s[3]||(s[3]=(...t)=>e.checkLength&&e.checkLength(...t)),onKeyup:s[4]||(s[4]=(...t)=>e.checkLength&&e.checkLength(...t))}),null,16,j)],6),(u(!0),r(h,null,_(n.afterDot,t=>(u(),r("div",{key:t,class:i([l.$style["part-input__dot"],e.customClassNames.dot])},null,2))),128))],2)}const M={$style:F},z=b(S,[["render",E],["__cssModules",M]]);export{z as P};
