import{_ as F,k as K,i as S,r as M,c as y,j as E,o as j,a as L,J as O,p as q,l as z,g as r,d,q as A,w as D,e as f,y as G,n as _,m as J,h as p,t as v,G as P}from"./index-89ea90fd.js";import{F as U}from"./FormInvalid-83d8e491.js";const H="_input_1b178_1",Q="_input__block_1b178_4",R="_input__input_1b178_7",W="_input__bottom_1b178_138",X="_input__count_1b178_146",Y="_input__help_1b178_157",Z="_input__invalid_1b178_157",x={input:H,input__block:Q,input__input:R,"input__input--align-left":"_input__input--align-left_1b178_77","input__input--align-center":"_input__input--align-center_1b178_80","input__input--align-right":"_input__input--align-right_1b178_83","input--error":"_input--error_1b178_135",input__bottom:W,"input__bottom-left":"_input__bottom-left_1b178_142",input__count:X,"input__count-current":"_input__count-current_1b178_154",input__help:Y,input__invalid:Z,"input--focus":"_input--focus_1b178_160","input--inputed":"_input--inputed_1b178_160","input--disabled":"_input--disabled_1b178_163"},g=()=>({wrap:"",block:"",input:"",bottom:"",bottomLeft:"",count:"",countCurrent:""}),$={components:{FormInvalid:U},inheritAttrs:!1,props:{classNames:{Type:Object,default(){return g()}},type:{Type:String,default:"text"},maxlength:{Type:Number,default:null},readonly:{Type:Boolean,default:!1},disabled:{Type:Boolean,default:!1},align:{Type:String,default:null},defaultValue:{Type:String,default:null},modelValue:{Type:String},count:{Type:Boolean,default:!1},error:{Type:Boolean,default:!1}},setup(n,{slots:o,emit:e}){let t=null;const m=K(),s=S({isFocus:!1,isInputed:!1,val:"",count:n.modelValue?n.modelValue.length:0}),a=M(null),l=y(()=>{const{classNames:u}=n;return Object.assign(g(),u)}),C=y(()=>!!o.bottom),h=()=>a.value,k=()=>{a.value.focus()},i=()=>{const{maxlength:u}=n;if(typeof u!="number")return;const c=a.value.value;if(c.length>u){a.value.value=c.substr(0,u);const w=new Event("input");a.value.dispatchEvent(w)}},b=()=>{const u=a.value.value.length;s.isInputed=!!u,s.count=u},I=()=>{clearTimeout(t),i(),s.isFocus=!0,s.isInputed=!!a.value.value.length},N=()=>{clearTimeout(t),i(),t=setTimeout(()=>{s.isFocus=!1,clearTimeout(t)},50)},T=u=>{const{value:c}=u.target;s.val=c,e("update:modelValue",c)},B=()=>{i()},V=()=>{i(),b()};return E(()=>{s.val=n.modelValue||n.defaultValue||""}),j(()=>{i(),b()}),L(()=>{i()}),O(()=>n.modelValue,u=>{s.val=u,P(()=>{b()})}),q("simpleInput",{helpClass:m.input__help,invalidClass:m.input__invalid}),{state:s,input:a,customClassNames:l,isBottom:C,getInputElement:h,focus:k,onfocusin:I,onInput:T,onKeydown:B,onKeyup:V,onfocusout:N}}},tt=["type","value","disabled","readonly"],nt={key:0};function et(n,o,e,t,m,s){const a=z("FormInvalid");return r(),d("div",{class:_([n.$style.input,{[n.$style["input--focus"]]:t.state.isFocus,[n.$style["input--inputed"]]:t.state.isInputed,[n.$style["input--error"]]:e.error,[n.$style["input--disabled"]]:e.disabled},t.customClassNames.wrap])},[A(a,{error:e.error,disabled:e.disabled},{default:D(()=>[f("div",{class:_([n.$style.input__block,t.customClassNames.block]),onFocusin:o[3]||(o[3]=(...l)=>t.onfocusin&&t.onfocusin(...l)),onFocusout:o[4]||(o[4]=(...l)=>t.onfocusout&&t.onfocusout(...l))},[f("input",G({ref:"input"},n.$attrs,{type:e.type,class:[n.$style.input__input,{[n.$style[`input__input--align-${e.align}`]]:e.align},t.customClassNames.input],value:e.modelValue||t.state.val,disabled:e.disabled,readonly:e.readonly,onInput:o[0]||(o[0]=(...l)=>t.onInput&&t.onInput(...l)),onKeydown:o[1]||(o[1]=(...l)=>t.onKeydown&&t.onKeydown(...l)),onKeyup:o[2]||(o[2]=(...l)=>t.onKeyup&&t.onKeyup(...l))}),null,16,tt)],34),t.isBottom||e.count?(r(),d("div",{key:0,class:_([n.$style.input__bottom,t.customClassNames.bottom])},[t.isBottom?(r(),d("div",{key:0,class:_([n.$style["input__bottom-left"],t.customClassNames.bottom])},[J(n.$slots,"bottom")],2)):p("",!0),e.count?(r(),d("div",{key:1,class:_([n.$style.input__count,t.customClassNames.bottom])},[f("span",{class:_([n.$style["input__count-current"],t.customClassNames.countCurrent])},v(t.state.count),3),e.maxlength?(r(),d("span",nt,"/"+v(e.maxlength),1)):p("",!0)],2)):p("",!0)],2)):p("",!0)]),_:3},8,["error","disabled"])],2)}const ot={$style:x},st=F($,[["render",et],["__cssModules",ot]]);export{st as S};
