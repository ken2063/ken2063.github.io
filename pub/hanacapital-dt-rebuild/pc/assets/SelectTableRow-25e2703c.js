import{_ as E,s as I,i as M,r as T,c as g,o as A,J as S,p as C,k as L,l as H,g as u,d as _,e as d,t as O,n as i,m as f,h,q as V,w as j,v as q,j as z,K as D,G as B}from"./index-55dc959b.js";const G={"basic-table":"_basic-table_36seo_1","basic-table__left-line":"_basic-table__left-line_36seo_75","basic-table--secondary":"_basic-table--secondary_36seo_78","select-table":"_select-table_36seo_102","select-table__caption":"_select-table__caption_36seo_109","select-table__head":"_select-table__head_36seo_127","select-table__body":"_select-table__body_36seo_131","select-table__body-scroll":"_select-table__body-scroll_36seo_139","select-table__radio":"_select-table__radio_36seo_178","select-table__radio-text":"_select-table__radio-text_36seo_220","select-table--disabled":"_select-table--disabled_36seo_252","select-table--maxrow-4":"_select-table--maxrow-4_36seo_255","select-table--maxrow-8":"_select-table--maxrow-8_36seo_258"},U=()=>({wrap:"",head:"",body:"",bodyScroll:"",caption:"",table:"",disabled:""}),J={components:{Simplebar:I},props:{classNames:{Type:Object,default(){return U()}},once:{Type:Boolean,default:!0},label:{Type:String,default:null},captionId:{Type:String,default:null},caption:{Type:String,default:null},disabled:{Type:Boolean,default:!1},maxRow:{Type:Number,default:4},onSelected:{Type:Function,default(){return()=>{}}},onUnSelected:{Type:Function,default(){return()=>{}}}},setup(e,s){let l=!1,t=!1;const a=M({items:[],count:0,once:{value:!1},callback:{}}),c=T(null),n=T(null),r=g(()=>{const{classNames:o}=e;return Object.assign(U(),o)}),v=g(()=>!!s.slots.head),b=g(()=>!!s.slots.colgroup),m=o=>{const y=a.count;return a.items.push(Object.assign({},o,{key:y})),a.count++,y},k=o=>{const y=a.items.findIndex(F=>F.key===o);a.items.splice(y,1)},w=()=>{e.once?a.items[0]&&a.items[0].select():a.items.forEach(o=>{o.select()})},N=()=>{a.items.forEach(o=>{o.unSelect()})},p=()=>{if(t)return;const o=n.value.scrollElement;l=!0,o.scrollLeft=c.value.scrollLeft,l=!1},x=()=>{if(l)return;const o=n.value.scrollElement;t=!0,c.value.scrollLeft=o.scrollLeft,t=!1};return A(()=>{a.once.value=e.once,a.callback.onSelected=e.onSelected,a.callback.onUnSelected=e.onUnSelected}),S(()=>e.once,o=>{a.once.value=o}),S(()=>e.onSelected,o=>{a.callback.onSelected=o}),S(()=>e.onUnSelected,o=>{a.callback.onUnSelected=o}),C("selectTableStyleModule",L()),C("selectTable",{items:a.items,itemsAdd:m,itemsRemove:k,allSelect:w,allUnSelect:N,once:a.once,callback:a.callback}),{head:c,bodyScroller:n,customClassNames:r,isHead:v,isColgroup:b,allSelect:w,allUnSelect:N,headScroll:p,bodyScroll:x}}},K=["aria-label","aria-describedby"],P=["id"],Q={role:"rowgroup"},W={key:0},X={role:"rowgroup"},Y={key:0};function Z(e,s,l,t,a,c){const n=H("Simplebar");return u(),_("div",{class:i([e.$style["select-table"],{[e.$style["select-table--disabled"]]:l.disabled,[t.customClassNames.disabled]:l.disabled,[e.$style[`select-table--maxrow-${l.maxRow}`]]:l.maxRow},t.customClassNames.wrap]),role:"table","aria-label":l.label,"aria-describedby":l.captionId},[d("div",{class:i([e.$style["select-table__caption"],t.customClassNames.caption]),id:l.captionId},O(l.caption),11,P),t.isHead?(u(),_("div",{key:0,ref:"head",class:i([e.$style["select-table__head"],t.customClassNames.head]),onScroll:s[0]||(s[0]=(...r)=>t.headScroll&&t.headScroll(...r))},[d("div",{class:i([e.$style["basic-table"],t.customClassNames.table])},[d("table",Q,[t.isColgroup?(u(),_("colgroup",W,[f(e.$slots,"colgroup")])):h("",!0),d("thead",null,[f(e.$slots,"head")])])],2)],34)):h("",!0),d("div",{class:i([e.$style["select-table__body"],t.customClassNames.body])},[V(n,{ref:"bodyScroller","data-simplebar-auto-hide":"false",class:i([e.$style["select-table__body-scroll"],t.customClassNames.bodyScroll]),onScroll:t.bodyScroll},{default:j(()=>[d("div",{class:i([e.$style["basic-table"],t.customClassNames.table])},[d("table",X,[t.isColgroup?(u(),_("colgroup",Y,[f(e.$slots,"colgroup")])):h("",!0),d("tbody",null,[f(e.$slots,"default")])])],2)]),_:3},8,["class","onScroll"])],2)],10,K)}const $={$style:G},se=E(J,[["render",Z],["__cssModules",$]]),R=(e,s,l)=>{e&&e.callback&&e.callback[s]&&e.callback[s](l)},ee={props:{initialActive:{Type:Boolean,default:!1},onSelected:{Type:Function,default(){return()=>{}}},onUnSelected:{Type:Function,default(){return()=>{}}},action:{Type:Boolean,default:!0},actionType:{Type:String,default:"toggle"},disabled:{Type:Boolean,default:!1}},setup(e){const s=q("selectTable",{}),l=M({key:null,selected:{value:!1},disabled:{value:!1},radioClick:!1}),t=T(null),a=()=>{l.selected.value||(s.once.value&&s.allUnSelect(),l.selected.value=!0,B(()=>{e.onSelected(t),R(s,"onSelected",t)}))},c=()=>{l.selected.value&&(l.selected.value=!1,B(()=>{e.onUnSelected(t),R(s,"onUnSelected",t)}))},n=()=>{l.selected.value?c():a()},r=()=>{const{disabled:b,actionType:m}=e,{radioClick:k}=l;!b&&!k&&(m==="toggle"?n():m==="select"&&a()),l.radioClick=!1},v=()=>{l.radioClick=!0};return z(()=>{l.disabled.value=e.disabled}),A(()=>{s&&s.itemsAdd&&(l.key=s.itemsAdd({select:a,unSelect:c,toggle:n})),e.initialActive&&a()}),D(()=>{s&&s.itemsRemove&&s.itemsRemove(l.key)}),S(()=>e.disabled,b=>{l.disabled.value=b}),C("selectTableRow",{disabled:l.disabled,selected:l.selected,select:a,unSelect:c,toggle:n,radioClick:v}),{state:l,row:t,select:a,unSelect:c,toggle:n,click:r}}},le=["tabindex","title"];function te(e,s,l,t,a,c){return u(),_("tr",{ref:"row",tabindex:l.disabled?"-1":"0",class:i([{"is-selected":t.state.selected.value,"is-disabled":l.disabled}]),onClick:s[0]||(s[0]=()=>{l.action&&t.click()}),title:t.state.selected.value?"선택 됨":null},[f(e.$slots,"default",{select:t.select,unSelect:t.unSelect,toggle:t.toggle,selected:t.state.selected.value})],10,le)}const oe=E(ee,[["render",te]]);export{se as S,oe as a};
